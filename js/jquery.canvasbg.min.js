(function(f){function a(g,b){this.$el=f(g);this.opts=b;this.$canvas=f("<canvas></canvas>").attr("class","captionOverlay");this.init()}a.prototype.init=function(){this.createCanvas();this.fillCanvas()};a.prototype.createCanvas=function(){0<this.$el.length&&(f(this.$el).wrapInner(f("<div />").css({position:"relative","z-index":101}).attr("class","canvasForeground")),this.$el.css("position","relative").append(this.$canvas.attr({width:this.$el.width(),height:this.$el.height(),"class":"canvasBackground"}).css({position:"absolute",
top:"0",left:"0","z-index":100})))};a.prototype.fillCanvas=function(){function f(b,c,a){var d=function(b,c,a){0>a&&(a+=1);1<a&&(a-=1);return a<1/6?b+6*(c-b)*a:0.5>a?c:a<2/3?b+6*(c-b)*(2/3-a):b};if(0==c)a=c=b=a;else var e=0.5>a?a*(1+c):a+c-a*c,g=2*a-e,a=d(g,e,b+1/3),c=d(g,e,b),b=d(g,e,b-1/3);return[255*a,255*c,255*b]}var b=this.$canvas.get(0),d=this.$el.width(),a=this.$el.height();if(b.getContext)for(var b=b.getContext("2d"),c=0;c<d+a;c++){var e=f(0.221+c/1E3,0.63,0.55),e=0==c%2?"rgb("+Math.floor(e[0])+
","+Math.floor(e[1])+","+Math.floor(e[2])+")":"rgba(255,255,255,.8)";b.beginPath();c<a?(b.moveTo(c,0),b.lineTo(0,c)):c<d?(b.moveTo(c,0),b.lineTo(c-a,a)):(b.moveTo(d,c-d),b.lineTo(c-d,d));b.strokeStyle=e;b.stroke()}};f.fn.canvasBackground=function(f){return this.each(function(){new a(this,f)})}})(jQuery,document,window);